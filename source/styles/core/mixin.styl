
/**
 * Media
 *
 * +media('min', 'sm')                  => sm, md, lg, xl
 * +media('max', 'sm')                  => xs, sm
 * +media('in', 'md')                   => md
 * +media('in', 'sm', 'lg')             => sm, md, lg
 * +media('out', 'md')                  => xs, sm, lg, xl
 * +media('out', 'sm', 'md')            => xs, lg, xl
 *
 */

media($type, $arg...)
    $sizeName = {
        xl: 4
        lg: 3
        md: 2
        sm: 1
        xs: 0
    }
    $sizeValue = 500px 768px 1000px 1260px

    if $type == 'max'
        $media_where = '(max-width $sizeValue[$sizeName[$arg[0]]] - 1)'

    else if $type == 'min'
        $media_where = '(min-width $sizeValue[$sizeName[$arg[0]] - 1])'

    else if $type == 'in'
        $media_where_first = $sizeValue[$sizeName[$arg[0]] - 1]
        $media_where_second = (length($arg) == 1) ? $sizeValue[$sizeName[$arg[0]]] - 1 : $sizeValue[$sizeName[$arg[1]]] - 1
        $media_where = '(min-width $media_where_first) and (max-width $media_where_second)'

    else if $type == 'out'
        $media_where_first = $sizeValue[$sizeName[$arg[0]] - 1] - 1
        $media_where_second = (length($arg) == 1) ? $sizeValue[$sizeName[$arg[0]]] : $sizeValue[$sizeName[$arg[1]]]
        $media_where = '(max-width $media_where_first), (min-width $media_where_second)'

    if $media_where
        @media $media_where
            {block}



/**
 * Gradient
 *
 * gradient: 180deg, red, green
 * gradient: 180deg red green
 * gradient: 270deg, red, green 50%, blue
 *
 */

gradient($direction, $colors...)
    background-color: $colors[0][0]
    background-image: linear-gradient($direction, unquote(join(', ', $colors)))



/**
 * Reset float
 *
 * clearfix()
 *
 */

clearfix()
    &::before
    &::after
        display: block
        content: ''

    &::after
        clear: both



/**
 * Position
 *
 * static: true                    => position:static;
 * relative: top                   => position:relative;top:0;
 * fixed: top 10px left right      => position:fixed;top:10px;left:0;right:0;
 *
 */

-pos($type, $args)
    position: unquote($type)
    $direction = top right bottom left
    for $arg, $i in $args
        if $arg in $direction
            {$arg}: ($args[$i + 1] is a 'unit') ? $args[$i + 1] : 0

static()
    -pos('static', arguments)
relative()
    -pos('relative', arguments)
absolute()
    -pos('absolute', arguments)
fixed()
    -pos('fixed', arguments)


/**
 * Size
 *
 * size: 10px               => width:10px; height:10px
 * size: 10px 15px          => width:10px; height:15px
 *
 */

size($arg...)
    if $arg
        if length($arg) == 1
            width: $arg[0]
            height: $arg[0]

        else if length($arg) == 2
            width: $arg[0]
            height: $arg[1]



/**
 * Border-radius
 *
 * border-radius: auto         => border-radius:3px
 * border-radius: 50%          => border-radius:50%
 * border-radius: auto 5px     => border-radius: 3px 5px
 *
 */

$borderRadiusDefault ?= 3px
border-radius($args...)
    $value = ()
    for $name in $args
        push($value, $name == 'auto' ? $borderRadiusDefault : $name)
    border-radius: $value
